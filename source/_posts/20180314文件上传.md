
---
layout: post
title: "spring mvc 上传文件"
date: 2018-03-14 19:55
comments: true
tags: 
	- spring mvc
---
# spring mvc 上传文件 #


org.springframework.web.multipart.MultipartHttpServletRequest 上传文件


jsp code 
![这里写图片描述](http://img.blog.csdn.net/20180314160417561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjQwNzY2ODc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

spirng context.xml 配置文件


```
<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/>
```

后台接受文件代码：

```
MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;    
            
            MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;    
            
            MultipartFile file = multipartRequest.getFile("file");
            /* 多文件用集合接受，遍历的获取文件*/
//            List<MultipartFile> files = multipartRequest.getFiles("file");
            
            String imageName = file.getOriginalFilename();
            
            if(file == null || file.isEmpty()){  
                logger.debug("File is empty.");
                map.put("success", false);
                errorMap.put("errorcode", 50001);
                errorMap.put("errormsg", "File is empty.");
                map.put("error", errorMap);
                return map;
            }
            File imageFile = new File("F:/test1.jpg");// 上传后的文件保存目录及名字
            file.transferTo(imageFile);// 将上传文件保存到相应位置
            

	
```




